{"ast":null,"code":"var _jsxFileName = \"/Users/elad/Desktop/web-shop/frontend/src/components/Form.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { useDispatch } from 'react-redux';\nimport { increment } from '../features/counter/TotalSlice';\nimport FormInput from './FormInput';\nimport FormSelect from './FormSelect';\nimport SubmitButton from './SubmitButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Form = ({\n  options,\n  products,\n  setProducts\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    name: \"\",\n    category: \"\"\n  });\n  const dispatch = useDispatch();\n  const handleChange = e => {\n    var _e$target;\n    if ((_e$target = e.target) !== null && _e$target !== void 0 && _e$target.name) {\n      setFormData({\n        ...formData,\n        [e.target.name]: e.target.value\n      });\n    } else {\n      setFormData({\n        ...formData,\n        category: e\n      });\n    }\n  };\n  const onSubmit = () => {\n    let newProductsList = products;\n    const isCategoryExist = newProductsList.findIndex(product => product.category === formData.category);\n    if (isCategoryExist === -1) {\n      let newCategory = {\n        category: formData.category,\n        totalAmount: 1,\n        list: [{\n          name: formData.name,\n          amount: 1\n        }]\n      };\n      newProductsList.push(newCategory);\n    } else {\n      newProductsList[isCategoryExist].totalAmount += 1;\n      const isProductExist = newProductsList[isCategoryExist].list.findIndex(item => item.name === formData.name);\n      if (isProductExist === -1) {\n        let newProduct = {\n          name: formData.name,\n          amount: 1\n        };\n        newProductsList[isCategoryExist].list.push(newProduct);\n      } else {\n        newProductsList[isCategoryExist].list[isProductExist].amount += 1;\n      }\n    }\n    setProducts(newProductsList);\n    dispatch(increment());\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(FormInput, {\n      handleChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n      options: options,\n      handleChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n      text: \"הוסף\",\n      onSubmit: onSubmit,\n      formData: formData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n_s(Form, \"VBBDbmtPkc3oKdjtK+U03nk0DVE=\", false, function () {\n  return [useDispatch];\n});\n_c = Form;\nexport default Form;\nconst Container = styled.form`\n    margin-top: 10px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: 15px;\n`;\n_c2 = Container;\nvar _c, _c2;\n$RefreshReg$(_c, \"Form\");\n$RefreshReg$(_c2, \"Container\");","map":{"version":3,"names":["React","useState","styled","useDispatch","increment","FormInput","FormSelect","SubmitButton","jsxDEV","_jsxDEV","Form","options","products","setProducts","_s","formData","setFormData","name","category","dispatch","handleChange","e","_e$target","target","value","onSubmit","newProductsList","isCategoryExist","findIndex","product","newCategory","totalAmount","list","amount","push","isProductExist","item","newProduct","Container","children","fileName","_jsxFileName","lineNumber","columnNumber","text","_c","form","_c2","$RefreshReg$"],"sources":["/Users/elad/Desktop/web-shop/frontend/src/components/Form.tsx"],"sourcesContent":["import React, {useState} from 'react';\nimport styled from 'styled-components';\nimport { useDispatch } from 'react-redux';\nimport { increment } from '../features/counter/TotalSlice';\n\nimport FormInput from './FormInput';\nimport FormSelect from './FormSelect';\nimport SubmitButton from './SubmitButton';\n\ninterface Iprops  {\n    options: {\n        value: string\n        label: string\n    }[],\n    products: {\n        category: string\n        totalAmount: number\n        list: {\n          name: string\n          amount: number\n        }[]\n    }[],\n    setProducts: React.Dispatch<React.SetStateAction<{\n        category: string;\n        totalAmount: number;\n        list: {\n            name: string;\n            amount: number;\n        }[];\n    }[]>>\n}\n\nconst Form: React.FC<Iprops> = ({options, products, setProducts}) => {\n    const [formData, setFormData] = useState({\n        name: \"\",\n        category: \"\"\n    });\n\n    const dispatch = useDispatch();\n\n    const handleChange = (e : React.ChangeEvent<HTMLInputElement> | any) => {\n        if(e.target?.name) {\n            setFormData({\n                ...formData,\n                [e.target.name]: e.target.value\n            })\n        } else {\n            setFormData({\n                ...formData,\n                category: e\n            })\n        }\n    };\n\n    const onSubmit = () => {\n        let newProductsList = products;\n        const isCategoryExist = newProductsList.findIndex(product => product.category === formData.category);\n        if(isCategoryExist === -1) {\n            let newCategory = {\n            category: formData.category,\n            totalAmount: 1,\n            list: [{name: formData.name, amount: 1}]\n            }\n\n            newProductsList.push(newCategory);\n        } else {\n            newProductsList[isCategoryExist].totalAmount += 1;\n\n            const isProductExist = newProductsList[isCategoryExist].list.findIndex(item => item.name === formData.name);\n            if(isProductExist === -1) {\n            let newProduct = {\n                name: formData.name,\n                amount: 1\n            }\n\n            newProductsList[isCategoryExist].list.push(newProduct);\n            } else {\n            newProductsList[isCategoryExist].list[isProductExist].amount += 1;\n            }\n        }\n\n        setProducts(newProductsList);\n        dispatch(increment());\n    }\n    \n  return (\n    <Container>\n        <FormInput handleChange={handleChange}/>\n        <FormSelect options={options} handleChange={handleChange}/>\n        <SubmitButton text={\"הוסף\"} onSubmit={onSubmit} formData={formData}/>\n    </Container>\n  )\n}\n\nexport default Form;\n\nconst Container = styled.form`\n    margin-top: 10px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: 15px;\n`;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}