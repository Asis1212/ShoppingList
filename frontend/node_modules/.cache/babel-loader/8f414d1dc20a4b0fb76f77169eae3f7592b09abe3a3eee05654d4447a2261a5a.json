{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  products: []\n};\nexport const productsSlice = createSlice({\n  name: 'list',\n  initialState,\n  reducers: {\n    addItem: (state, newItem) => {\n      const isCategoryExist = state.products.findIndex(product => product.category === newItem.payload.category);\n      if (isCategoryExist === -1) {\n        let newCategory = {\n          category: newItem.payload.category,\n          totalAmount: 1,\n          list: [{\n            name: newItem.payload.name,\n            amount: 1\n          }]\n        };\n        state.products.push(newCategory);\n      } else {\n        state.products[isCategoryExist].totalAmount += 1;\n        const isProductExist = state.products[isCategoryExist].list.findIndex(item => item.name === newItem.payload.name);\n        if (isProductExist === -1) {\n          let newProduct = {\n            name: newItem.payload.name,\n            amount: 1\n          };\n          state.products[isCategoryExist].list.push(newProduct);\n        } else {\n          state.products[isCategoryExist].list[isProductExist].amount += 1;\n        }\n      }\n    }\n  }\n});\n\n// Action creators are generated for each case reducer function\nexport const {\n  addItem\n} = productsSlice.actions;\nexport default productsSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","products","productsSlice","name","reducers","addItem","state","newItem","isCategoryExist","findIndex","product","category","payload","newCategory","totalAmount","list","amount","push","isProductExist","item","newProduct","actions","reducer"],"sources":["/Users/elad/Desktop/web-shop/src/features/counter/TotalSlice.tsx"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\nimport type { PayloadAction } from '@reduxjs/toolkit'\n\nexport interface productsState {\n    products: {\n        category: string\n        totalAmount: number\n        list: {\n          name: string\n          amount: number\n        }[]\n      }[]\n}\n\nconst initialState: productsState = {\n    products: [],\n}\n\nexport const productsSlice = createSlice({\n  name: 'list',\n  initialState,\n  reducers: {\n    addItem: (state, newItem) => {\n      const isCategoryExist = state.products.findIndex(product => product.category === newItem.payload.category);\n      if(isCategoryExist === -1) {\n        let newCategory = {\n          category: newItem.payload.category,\n          totalAmount: 1,\n          list: [{name: newItem.payload.name, amount: 1}]\n        }\n\n        state.products.push(newCategory);\n      } else {\n        state.products[isCategoryExist].totalAmount += 1;\n\n        const isProductExist = state.products[isCategoryExist].list.findIndex(item => item.name === newItem.payload.name);\n        if(isProductExist === -1) {\n          let newProduct = {\n            name: newItem.payload.name,\n            amount: 1\n          }\n\n          state.products[isCategoryExist].list.push(newProduct);\n        } else {\n          state.products[isCategoryExist].list[isProductExist].amount += 1;\n        }\n      }\n    },\n  },\n})\n\n// Action creators are generated for each case reducer function\nexport const { addItem } = productsSlice.actions\n\nexport default productsSlice.reducer"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAc9C,MAAMC,YAA2B,GAAG;EAChCC,QAAQ,EAAE;AACd,CAAC;AAED,OAAO,MAAMC,aAAa,GAAGH,WAAW,CAAC;EACvCI,IAAI,EAAE,MAAM;EACZH,YAAY;EACZI,QAAQ,EAAE;IACRC,OAAO,EAAEA,CAACC,KAAK,EAAEC,OAAO,KAAK;MAC3B,MAAMC,eAAe,GAAGF,KAAK,CAACL,QAAQ,CAACQ,SAAS,CAACC,OAAO,IAAIA,OAAO,CAACC,QAAQ,KAAKJ,OAAO,CAACK,OAAO,CAACD,QAAQ,CAAC;MAC1G,IAAGH,eAAe,KAAK,CAAC,CAAC,EAAE;QACzB,IAAIK,WAAW,GAAG;UAChBF,QAAQ,EAAEJ,OAAO,CAACK,OAAO,CAACD,QAAQ;UAClCG,WAAW,EAAE,CAAC;UACdC,IAAI,EAAE,CAAC;YAACZ,IAAI,EAAEI,OAAO,CAACK,OAAO,CAACT,IAAI;YAAEa,MAAM,EAAE;UAAC,CAAC;QAChD,CAAC;QAEDV,KAAK,CAACL,QAAQ,CAACgB,IAAI,CAACJ,WAAW,CAAC;MAClC,CAAC,MAAM;QACLP,KAAK,CAACL,QAAQ,CAACO,eAAe,CAAC,CAACM,WAAW,IAAI,CAAC;QAEhD,MAAMI,cAAc,GAAGZ,KAAK,CAACL,QAAQ,CAACO,eAAe,CAAC,CAACO,IAAI,CAACN,SAAS,CAACU,IAAI,IAAIA,IAAI,CAAChB,IAAI,KAAKI,OAAO,CAACK,OAAO,CAACT,IAAI,CAAC;QACjH,IAAGe,cAAc,KAAK,CAAC,CAAC,EAAE;UACxB,IAAIE,UAAU,GAAG;YACfjB,IAAI,EAAEI,OAAO,CAACK,OAAO,CAACT,IAAI;YAC1Ba,MAAM,EAAE;UACV,CAAC;UAEDV,KAAK,CAACL,QAAQ,CAACO,eAAe,CAAC,CAACO,IAAI,CAACE,IAAI,CAACG,UAAU,CAAC;QACvD,CAAC,MAAM;UACLd,KAAK,CAACL,QAAQ,CAACO,eAAe,CAAC,CAACO,IAAI,CAACG,cAAc,CAAC,CAACF,MAAM,IAAI,CAAC;QAClE;MACF;IACF;EACF;AACF,CAAC,CAAC;;AAEF;AACA,OAAO,MAAM;EAAEX;AAAQ,CAAC,GAAGH,aAAa,CAACmB,OAAO;AAEhD,eAAenB,aAAa,CAACoB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}